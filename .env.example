# Core infrastructure
DATABASE_URL=postgresql://postgres:postgres@db:5432/agentic
REDIS_URL=redis://redis:6379/0
ARTIFACTS_DIR=/shared/artifacts
WORKSPACE_DIR=/shared/workspace
DOCX_TEMPLATE_DIR=/shared/templates

# Orchestration, policy, and critic
ORCHESTRATOR_ENABLED=true
ORCHESTRATOR_RECOVER_PENDING=true
ORCHESTRATOR_RECOVER_IDLE_MS=60000
JOB_RECOVERY_ENABLED=true
REPLAN_MAX=1
POLICY_GATE_ENABLED=false
POLICY_MODE=dev
POLICY_CONFIG_PATH=config/policy.yaml
CRITIC_ENABLED=false
CRITIC_MAX_REWORKS=2
DEV_RESUME_RENDER_ENABLED=false

# Planner and global LLM settings
PLANNER_MODE=rule_based
PLANNER_MAX_DEPTH=3
LLM_PROVIDER=mock
OPENAI_MODEL=
OPENAI_BASE_URL=https://api.openai.com
OPENAI_TEMPERATURE=
OPENAI_MAX_OUTPUT_TOKENS=
OPENAI_TIMEOUT_S=60
OPENAI_MAX_RETRIES=2

# Worker settings
WORKER_MODE=llm
WORKER_GROUP=workers
WORKER_CONSUMER=
WORKER_READ_COUNT=1
WORKER_BLOCK_MS=1000
WORKER_RECOVER_PENDING=true
WORKER_RECOVER_IDLE_MS=60000
WORKER_RECOVER_INTERVAL_S=10
WORKER_RECOVER_COUNT=10
WORKER_RETRY_ENABLED=true
WORKER_RETRY_POLICY=transient
WORKER_DEFAULT_MAX_ATTEMPTS=3
WORKER_DLQ_ENABLED=true

# Memory settings
MEMORY_API_URL=http://api:8000
MEMORY_READ_ENABLED=true
MEMORY_WRITE_ENABLED=true

# Service URLs and UI
NEXT_PUBLIC_API_URL=http://localhost:18000
NEXT_PUBLIC_DEV_TOOLS=false
CODER_API_URL=http://coder:8000
RESUME_TAILOR_API_URL=http://tailor:8000
CORS_ORIGINS=http://localhost:8510,http://localhost:3002,http://localhost:3000

# Tooling and schema controls
TOOL_HTTP_FETCH_ENABLED=false
TOOL_HTTP_FETCH_ALLOWLIST=
TOOL_OUTPUT_SIZE_CAP=50000
TOOL_INPUT_VALIDATION_ENABLED=true
SCHEMA_REGISTRY_PATH=/app/schemas
SCHEMA_VALIDATION_STRICT=false

# Coder tuning and logging
CODING_AGENT_TIMEOUT_S=90
CODER_HTTP_TIMEOUT_S=90
CODER_LLM_MAX_RETRIES=2
CODER_LLM_RETRY_SLEEP_S=1.5
CODER_LOG_PROMPT_PREVIEW_CHARS=200
CODER_LOG_RESPONSE_PREVIEW_CHARS=200
CODER_LOG_RESPONSE_FULL=false

# Candidate resume logging (worker)
LOG_CANDIDATE_RESUME=false
LOG_CANDIDATE_RESUME_FULL=false
LOG_CANDIDATE_RESUME_PREVIEW_CHARS=200

# Tailor provider overrides
TAILOR_OPENAI_TIMEOUT_S=20
TAILOR_OPENAI_MAX_RETRIES=1

# Tailor evaluation settings
TAILOR_EVAL_MODE=llm
TAILOR_EVAL_PROVIDER=openai
TAILOR_EVAL_OPENAI_MODEL=
TAILOR_EVAL_OPENAI_BASE_URL=
TAILOR_EVAL_OPENAI_TEMPERATURE=
TAILOR_EVAL_OPENAI_MAX_OUTPUT_TOKENS=
TAILOR_EVAL_OPENAI_TIMEOUT_S=15
TAILOR_EVAL_OPENAI_MAX_RETRIES=1

# Tailor iterative controls
TAILOR_MIN_CHANGES_PER_ITERATION=8
TAILOR_ITERATIVE_TIMEOUT_S=
TAILOR_ITERATIVE_RESERVE_S=60
TAILOR_ITERATIVE_CACHE_TTL_S=1800
TAILOR_ITERATIVE_INFLIGHT_WAIT_S=30
TAILOR_ITERATIVE_CACHE_MAX_ENTRIES=256

# MCP controls
MCP_ALLOWED_HOSTS=
MCP_TOOL_TIMEOUT_S=120
MCP_TOOL_OUTER_TIMEOUT_HEADROOM_S=15
MCP_TOOL_MAX_RETRIES=1
MCP_TOOL_RETRY_SLEEP_S=0.25
MCP_FIRST_ATTEMPT_RESERVE_S=30
MCP_TRANSPORT_TIMEOUT_S=
MCP_TOOL_ISOLATION_MODE=process
MCP_TIMEOUT_S=

# Document store settings
DOCUMENT_STORE_BACKEND=filesystem
DOCUMENT_STORE_S3_BUCKET=
DOCUMENT_STORE_S3_PREFIX=document-store
DOCUMENT_STORE_S3_ENDPOINT=
DOCUMENT_STORE_S3_REGION=us-east-1

# Observability and metadata tags
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4318
PROMPT_VERSION=unknown
POLICY_VERSION=unknown
TOOL_VERSION=unknown

# Image build/push helpers
IMAGE_REGISTRY=ghcr.io
IMAGE_OWNER=
IMAGE_TAG=latest

# GitHub API settings (non-secret)
GITHUB_API_URL=https://api.github.com

# Optional one-off script value
CORRELATION_ID=

# Secrets (set locally; never commit real values)
OPENAI_API_KEY=
TAILOR_EVAL_OPENAI_API_KEY=
GITHUB_TOKEN=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=
